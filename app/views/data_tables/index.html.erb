<table id="example" class="display" style="width:100%">
   <thead>
       <tr>
           <th>Title</th>
           <th>Description</th>
       </tr>
   </thead>
   <tfoot>
       <tr>
           <th>Title</th>
           <th>Description</th>
       </tr>
   </tfoot>
</table>



<%= javascript_tag do %>
  $('#example').DataTable( {
      serverSide: true,
      ajax: {
          url: '<%= project_search_path(current_project, format: :json) %>',
          data: {
            q: function(){ return $('#example_filter input').val() },
            scope: 'issues'
          },
          dataFilter: function(data) {
            parsedData = JSON.parse(data)
            parsedData.data = parsedData.data.map(function(issue){ return issue.fields });
            return JSON.stringify(parsedData)
          }
      },
      columns: [
          { data: 'Title' },
          { data: 'Description' },
      ]
  } );
<% end %>
